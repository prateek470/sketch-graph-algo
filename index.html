 <html>
	<head>
		<title>PaperJS - Starter Canvas</title>
		<!-- An AMD-loader like RequireJS is necessary for srlib's asynchronous modules -->
		<script src="js/require.js"></script>
		<!-- Load srlib following RequireJS -->
		<script src="js/srlib.js"></script>	
		<!--Paper JS-->
		<script src="js/paper-full.js"></script>
		<!--Fonts and styling-->
		<link href="css/style.css" rel='stylesheet' type='text/css'/>
   
		<script type="text/javascript" src="js/model.js"></script>
		<script type="text/javascript" src="js/rubine.js"></script>

	</head>
	<body>	
	<script type="text/paperscript" canvas="canvas">
			
					
	function onMouseDown(event) {
		// PaperJS add a new Path object and initial starting point
		path = new Path();
		path.strokeColor = 'black';
		path.strokeWidth = 2;
		path.add(event.point);
		
		// SRLlib add a new Stroke object and initial starting point
		stroke = new srlib.core.data.container.Stroke();
		point = new srlib.core.data.container.Point(event.point.x,event.point.y)
		if (typeof sketch == "undefined") {
			sketch = new srlib.core.data.container.Sketch();
		}
		sketch.addStroke(stroke);
		sketch.addPoint(point);
		stroke.addPoint(point);
	}

	function onMouseDrag(event) {
	// PaperJS add points to Path object on mouse drag
	path.add(event.point);

	// SRLlib add points to Stroke on mouse drag
	point = new srlib.core.data.container.Point(event.point.x,event.point.y)
	sketch.addPoint(point);
	stroke.addPoint(point);
	}




	function onMouseUp(event) {	
	
	// Add evaluation / recognition functions or whatever you want here!
	var points = stroke.getPoints();
	if(points[0].distance(points[points.length-1])<=10)
		path.strokeColor = 'red';
	if(feature_f5(points)/feature_f8(points) > 0.9)
		path.strokeColor = 'blue';

	}
	



	</script>	
	
	<canvas id="canvas" rezise="true"  style="position:fixed;top:0px;left:0px;width:80%;border:1px solid #d3d3d3"></canvas>
	
   </body>
 </html>

